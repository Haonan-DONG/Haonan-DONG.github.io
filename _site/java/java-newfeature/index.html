<!DOCTYPE html>
<html>

<head>
    <title>Java8 新特性</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="keywords" content="Java8 新特性, java, Java,新特性, Haonan Dong's Website" />
    <meta name="description" content="Java8 新特性, java, Java,新特性, " />
    <meta name="theme-color" content="#2CA6CB"/>
    <link rel="shortcut icon" type="image/x-icon" media="screen" href="https://haonan-dong.github.io/favicon.ico" />
    <link rel="canonical" href="https://haonan-dong.github.io/java/java-newfeature/" />
    <link rel="alternate" type="application/rss+xml" title="Haonan Dong's Website" href="https://haonan-dong.github.io/feed.xml"  />

    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdn.bootcss.com/octicons/3.5.0/octicons.min.css" >
    <link rel="stylesheet" type="text/css" href="https://haonan-dong.github.io/static/css/style.css" />
    <link rel="stylesheet" type="text/css" href="https://haonan-dong.github.io/static/css/highlight.css" />
    <link rel="stylesheet" type="text/css" href="https://haonan-dong.github.io/static/css/gitment.css" />
    <link rel="stylesheet" type="text/css" href="https://haonan-dong.github.io/static/css/post.css" />
    

</head>


<body>

    <header>
        <nav class="navbar navbar-tiffany rectangle" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="https://haonan-dong.github.io/">Haonan Dong's Website</a>
                    <p class="navbar-text"></p>
                </div>
                <div class="collapse navbar-collapse">
                    <ul class="nav navbar-nav navbar-right">
                        
                        <li>
                        <a href="https://haonan-dong.github.io/" class="word-keep"><span class="octicon octicon-book"></span></span>&nbsp;&nbsp;Blog</a>
                        </li>
                        
                        
                        <li>
                            <a href="https://haonan-dong.github.io/archive/" class="word-keep"><span class="octicon octicon-repo"></span>&nbsp;&nbsp;Archive</a>
                        </li>
                        
                        
                        
                        <li>
                            <a href="https://haonan-dong.github.io/category/" class="word-keep"><span class="octicon octicon-list-unordered"></span>&nbsp;&nbsp;Category</a>
                        </li>
                        
                        
                        
                        <li>
                            <a href="https://haonan-dong.github.io/tags/" class="word-keep"><span class="octicon octicon-tag"></span>&nbsp;&nbsp;Tag</a>
                        </li>
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <li><a href="#stq=" class="search-button"><span class="octicon octicon-search"></span></a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>



<div class="main">
    <div class="container">
        <div class="row">
    <div class="content col-lg-9">
        <div class="sheet post">
          <header>
            <h2>Java8 新特性</h2>
            <p class="post-meta">
                <span class="octicon octicon-clock"></span> Dec 13, 2014
            </p>
            <p class="post-tag">
                <span><a href="https://haonan-dong.github.io/category/#java"><span class="octicon octicon-list-unordered"></span>&nbsp;java</a></span>
                <span>
                    <a class="word-keep" href="https://haonan-dong.github.io/tags/#Java"><span class="octicon octicon-tag"></span>&nbsp;Java</a>
                    
                    <a class="word-keep" href="https://haonan-dong.github.io/tags/#新特性"><span class="octicon octicon-tag"></span>&nbsp;新特性</a>
                    
                </span>
            </p>
          </header>
          <hr class="boundary">
          <article>
            <ul id="markdown-toc">
  <li><a href="#section"><code>1</code> 语言新特性</a>    <ul>
      <li><a href="#lambda"><code>1.1</code> Lambda</a></li>
      <li><a href="#functionalinterface"><code>1.2</code> FunctionalInterface</a></li>
      <li><a href="#section-1"><code>1.3</code> 接口默认方法</a></li>
      <li><a href="#section-2"><code>1.4</code> 接口静态方法</a></li>
      <li><a href="#section-3"><code>1.5</code> 方法引用</a></li>
      <li><a href="#section-4"><code>1.6</code> 重复注解</a></li>
      <li><a href="#section-5"><code>1.7</code> 类型推测</a></li>
      <li><a href="#section-6"><code>1.8</code> 扩展注解</a></li>
    </ul>
  </li>
  <li><a href="#section-7"><code>2</code> 类库新特性</a>    <ul>
      <li><a href="#optional"><code>2.1</code> Optional</a></li>
      <li><a href="#stream"><code>2.2</code> Stream</a></li>
      <li><a href="#datetime-api"><code>2.3</code> Date/Time API</a></li>
      <li><a href="#nashorn"><code>2.4</code> Nashorn</a></li>
      <li><a href="#base64"><code>2.5</code> Base64</a></li>
      <li><a href="#parallel-"><code>2.6</code> 并行（parallel ）数组</a></li>
      <li><a href="#concurrency"><code>2.7</code> 并发（concurrency）</a></li>
    </ul>
  </li>
  <li><a href="#section-8"><code>3</code> 编译器新特性</a>    <ul>
      <li><a href="#section-9"><code>3.1</code> 参数名</a></li>
    </ul>
  </li>
  <li><a href="#java"><code>4</code> 新的Java工具</a>    <ul>
      <li><a href="#nashorn-jjs"><code>4.1</code> Nashorn引擎 <code>jjs</code></a></li>
      <li><a href="#jdeps"><code>4.2</code> 类依赖分析器 <code>jdeps</code></a></li>
    </ul>
  </li>
  <li><a href="#jvm"><code>5</code> JVM新特性</a></li>
</ul>

<h1 id="section"><code>1</code> 语言新特性</h1>

<h2 id="lambda"><code>1.1</code> Lambda</h2>

<p>自动推测形参类型<code>e</code></p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#0a8;font-weight:bold">Arrays</span>.asList( <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">d</span><span style="color:#710">&quot;</span></span> ).forEach( e -&gt; <span style="color:#0a8;font-weight:bold">System</span>.out.println( e ) );
</pre></div>
</div>
</div>
<p>指定形参类型<code>e</code></p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#0a8;font-weight:bold">Arrays</span>.asList( <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">d</span><span style="color:#710">&quot;</span></span> ).forEach( ( <span style="color:#0a8;font-weight:bold">String</span> e ) -&gt; <span style="color:#0a8;font-weight:bold">System</span>.out.println( e ) );
</pre></div>
</div>
</div>
<p>方法体可以用<code>{}</code>包裹</p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#0a8;font-weight:bold">Arrays</span>.asList( <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">d</span><span style="color:#710">&quot;</span></span> ).forEach( e -&gt; {
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>    <span style="color:#0a8;font-weight:bold">System</span>.out.print( e );
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>    <span style="color:#0a8;font-weight:bold">System</span>.out.print( e );
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>} );
</pre></div>
</div>
</div>

<p><strong>effectively final</strong>，lambda引用的对象会自动转为final</p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#0a8;font-weight:bold">String</span> separator = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">,</span><span style="color:#710">&quot;</span></span>;
<span class="line-numbers"><a href="#n2" name="n2">2</a></span><span style="color:#0a8;font-weight:bold">Arrays</span>.asList( <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">d</span><span style="color:#710">&quot;</span></span> ).forEach( 
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>    ( <span style="color:#0a8;font-weight:bold">String</span> e ) -&gt; <span style="color:#0a8;font-weight:bold">System</span>.out.print( e + separator ) );
</pre></div>
</div>
</div>

<h2 id="functionalinterface"><code>1.2</code> FunctionalInterface</h2>

<p>函数接口就是只具有一个方法的普通接口，这样的接口，可以被隐式转换为lambda表达式，</p>

<p>然而，一旦在此接口中增加了方法，它将不再是函数接口，使用lambda时也将编译失败。</p>

<p><code>@FunctionalInterface</code>注解可以约束接口的行为，<strong>默认方法</strong>与<strong>静态方法</strong>不会影响函数接口</p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#007">@FunctionalInterface</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span><span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">interface</span> <span style="color:#B06;font-weight:bold">Functional</span> {
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>    <span style="color:#339;font-weight:bold">void</span> method();
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>}
</pre></div>
</div>
</div>

<h2 id="section-1"><code>1.3</code> 接口默认方法</h2>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span><span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">interface</span> <span style="color:#B06;font-weight:bold">Defaulable</span> {
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>    <span style="color:#777">// Interfaces now allow default methods, the implementer may or </span>
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>    <span style="color:#777">// may not implement (override) them.</span>
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>    <span style="color:#080;font-weight:bold">default</span> <span style="color:#0a8;font-weight:bold">String</span> notRequired() { 
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>        <span style="color:#080;font-weight:bold">return</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Default implementation</span><span style="color:#710">&quot;</span></span>; 
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>    }        
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>}
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span><span style="color:#088;font-weight:bold">public</span>  <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">DefaultableImpl</span> <span style="color:#088;font-weight:bold">implements</span> Defaulable {
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>}
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>     
<span class="line-numbers"><a href="#n12" name="n12">12</a></span><span style="color:#088;font-weight:bold">public</span>  <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">OverridableImpl</span> <span style="color:#088;font-weight:bold">implements</span> Defaulable {
<span class="line-numbers"><a href="#n13" name="n13">13</a></span>    <span style="color:#007">@Override</span>
<span class="line-numbers"><a href="#n14" name="n14">14</a></span>    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> notRequired() {
<span class="line-numbers"><a href="#n15" name="n15">15</a></span>        <span style="color:#080;font-weight:bold">return</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Overridden implementation</span><span style="color:#710">&quot;</span></span>;
<span class="line-numbers"><a href="#n16" name="n16">16</a></span>    }
<span class="line-numbers"><a href="#n17" name="n17">17</a></span>}
</pre></div>
</div>
</div>

<h2 id="section-2"><code>1.4</code> 接口静态方法</h2>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#088;font-weight:bold">private</span> <span style="color:#339;font-weight:bold">interface</span> <span style="color:#B06;font-weight:bold">DefaulableFactory</span> {
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>    <span style="color:#777">// Interfaces now allow static methods</span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>    <span style="color:#088;font-weight:bold">static</span> Defaulable create( Supplier&lt; Defaulable &gt; supplier ) {
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>        <span style="color:#080;font-weight:bold">return</span> supplier.get();
<span class="line-numbers"><a href="#n5" name="n5">5</a></span>    }
<span class="line-numbers"><a href="#n6" name="n6">6</a></span>}
</pre></div>
</div>
</div>

<h2 id="section-3"><code>1.5</code> 方法引用</h2>

<p>可以将类中既有 方法引用为lambda</p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span><span style="color:#088;font-weight:bold">public</span> <span style="color:#088;font-weight:bold">static</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">Car</span> {
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>    <span style="color:#088;font-weight:bold">public</span> <span style="color:#088;font-weight:bold">static</span> Car create( <span style="color:#088;font-weight:bold">final</span> Supplier&lt; Car &gt; supplier ) {
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>        <span style="color:#080;font-weight:bold">return</span> supplier.get();
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>    }              
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>         
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>    <span style="color:#088;font-weight:bold">public</span> <span style="color:#088;font-weight:bold">static</span> <span style="color:#339;font-weight:bold">void</span> collide( <span style="color:#088;font-weight:bold">final</span> Car car ) {
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>        <span style="color:#0a8;font-weight:bold">System</span>.out.println( <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Collided </span><span style="color:#710">&quot;</span></span> + car.toString() );
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>    }
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>              
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> repair() {   
<span class="line-numbers"><a href="#n12" name="n12">12</a></span>        <span style="color:#0a8;font-weight:bold">System</span>.out.println( <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Repaired </span><span style="color:#710">&quot;</span></span> + <span style="color:#950">this</span>.toString() );
<span class="line-numbers"><a href="#n13" name="n13">13</a></span>    }    
<span class="line-numbers"><a href="#n14" name="n14">14</a></span>    
<span class="line-numbers"><a href="#n15" name="n15">15</a></span>    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> follow( <span style="color:#088;font-weight:bold">final</span> Car another ) {
<span class="line-numbers"><a href="#n16" name="n16">16</a></span>        <span style="color:#0a8;font-weight:bold">System</span>.out.println( <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Following the </span><span style="color:#710">&quot;</span></span> + another.toString() );
<span class="line-numbers"><a href="#n17" name="n17">17</a></span>    }
<span class="line-numbers"><a href="#n18" name="n18">18</a></span>
<span class="line-numbers"><a href="#n19" name="n19">19</a></span>}
</pre></div>
</div>
</div>

<p>①构造器引用，语法为 <code>Class::new</code>，效果如同 <code>() -&gt; new Class()</code></p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>Car car = Car.create( Car::<span style="color:#080;font-weight:bold">new</span> );
<span class="line-numbers"><a href="#n2" name="n2">2</a></span><span style="color:#088;font-weight:bold">final</span> <span style="color:#0a8;font-weight:bold">List</span>&lt; Car &gt; cars = <span style="color:#0a8;font-weight:bold">Arrays</span>.asList( car );
</pre></div>
</div>
</div>

<p>②静态方法引用，语法为 <code>Class::static_method</code>，效果如同 <code>p -&gt; Class.static_method(p)</code></p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>cars.forEach( Car::collide );
</pre></div>
</div>
</div>

<p>③实例<strong>无参</strong>方法引用，语法为 <code>Class::method</code>，效果如同 <code>p -&gt; p.method()</code>，该方法没有参数</p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>cars.forEach( Car::repair );
</pre></div>
</div>
</div>

<p>④实例<strong>有参</strong>方法引用，语法为 <code>instance::method</code> ，效果如同 <code>p -&gt; instance.method(p)</code></p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#088;font-weight:bold">final</span> Car police = Car.create( Car::<span style="color:#080;font-weight:bold">new</span> );
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>cars.forEach( police::follow );
</pre></div>
</div>
</div>

<p>⑤其他</p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>   <span style="color:#950">super</span>::methName <span style="color:#777">//引用某个对象的父类方法</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>   TypeName<span style="color:#339;font-weight:bold">[]</span>::<span style="color:#080;font-weight:bold">new</span> <span style="color:#777">//引用一个数组的构造器</span>
</pre></div>
</div>
</div>

<h2 id="section-4"><code>1.6</code> 重复注解</h2>

<p>相同的注解可以在同一地方声明多次，由 <code>@Repeatable</code> 提供此特性</p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span><span style="color:#777">/**</span>
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span><span style="color:#777"> * @Repeatable( Filters.class )</span>
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span><span style="color:#777"> * 表示该注解可重复使用，注解内容存放于Filters中</span>
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span><span style="color:#777"> */</span>
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span><span style="color:#007">@Target</span>( <span style="color:#0a8;font-weight:bold">ElementType</span>.TYPE )
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span><span style="color:#007">@Retention</span>( <span style="color:#0a8;font-weight:bold">RetentionPolicy</span>.RUNTIME )
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span><span style="color:#007">@Repeatable</span>( Filters.class )
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span><span style="color:#088;font-weight:bold">public</span> <span style="color:#007">@interface</span> <span style="color:#0a8;font-weight:bold">Filter</span> {
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>    <span style="color:#0a8;font-weight:bold">String</span> value();
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>};
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>
<span class="line-numbers"><a href="#n12" name="n12">12</a></span><span style="color:#777">/**</span>
<span class="line-numbers"><a href="#n13" name="n13">13</a></span><span style="color:#777"> * 存放@Filter注解的数组</span>
<span class="line-numbers"><a href="#n14" name="n14">14</a></span><span style="color:#777"> * 该注解必须可以被访问</span>
<span class="line-numbers"><a href="#n15" name="n15">15</a></span><span style="color:#777"> */</span>
<span class="line-numbers"><a href="#n16" name="n16">16</a></span><span style="color:#007">@Target</span>( <span style="color:#0a8;font-weight:bold">ElementType</span>.TYPE )
<span class="line-numbers"><a href="#n17" name="n17">17</a></span><span style="color:#007">@Retention</span>( <span style="color:#0a8;font-weight:bold">RetentionPolicy</span>.RUNTIME )
<span class="line-numbers"><a href="#n18" name="n18">18</a></span><span style="color:#088;font-weight:bold">public</span> <span style="color:#007">@interface</span> Filters {
<span class="line-numbers"><a href="#n19" name="n19">19</a></span>    <span style="color:#0a8;font-weight:bold">Filter</span><span style="color:#339;font-weight:bold">[]</span> value();
<span class="line-numbers"><strong><a href="#n20" name="n20">20</a></strong></span>}
<span class="line-numbers"><a href="#n21" name="n21">21</a></span>
<span class="line-numbers"><a href="#n22" name="n22">22</a></span><span style="color:#777">/**</span>
<span class="line-numbers"><a href="#n23" name="n23">23</a></span><span style="color:#777"> * 测试</span>
<span class="line-numbers"><a href="#n24" name="n24">24</a></span><span style="color:#777"> */</span>
<span class="line-numbers"><a href="#n25" name="n25">25</a></span><span style="color:#007">@Filter</span>( <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">filter1</span><span style="color:#710">&quot;</span></span> )
<span class="line-numbers"><a href="#n26" name="n26">26</a></span><span style="color:#007">@Filter</span>( <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">filter2</span><span style="color:#710">&quot;</span></span> )
<span class="line-numbers"><a href="#n27" name="n27">27</a></span><span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">interface</span> <span style="color:#B06;font-weight:bold">Filterable</span> {
<span class="line-numbers"><a href="#n28" name="n28">28</a></span>}
<span class="line-numbers"><a href="#n29" name="n29">29</a></span>
<span class="line-numbers"><strong><a href="#n30" name="n30">30</a></strong></span><span style="color:#088;font-weight:bold">public</span> <span style="color:#088;font-weight:bold">static</span> <span style="color:#339;font-weight:bold">void</span> main(<span style="color:#0a8;font-weight:bold">String</span><span style="color:#339;font-weight:bold">[]</span> args) {
<span class="line-numbers"><a href="#n31" name="n31">31</a></span>    <span style="color:#777">//java8 提供的新方法，用于获取重复的注解</span>
<span class="line-numbers"><a href="#n32" name="n32">32</a></span>    <span style="color:#080;font-weight:bold">for</span>(<span style="color:#0a8;font-weight:bold">Filter</span> filter : Filterable.class.getAnnotationsByType(<span style="color:#0a8;font-weight:bold">Filter</span>.class ) ) {
<span class="line-numbers"><a href="#n33" name="n33">33</a></span>        <span style="color:#0a8;font-weight:bold">System</span>.out.println( filter.value() );
<span class="line-numbers"><a href="#n34" name="n34">34</a></span>    }
<span class="line-numbers"><a href="#n35" name="n35">35</a></span>}
</pre></div>
</div>
</div>

<h2 id="section-5"><code>1.7</code> 类型推测</h2>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span><span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">TypeInfer</span> {
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>    <span style="color:#088;font-weight:bold">public</span> <span style="color:#088;font-weight:bold">static</span> <span style="color:#339;font-weight:bold">void</span> main(<span style="color:#0a8;font-weight:bold">String</span><span style="color:#339;font-weight:bold">[]</span> args) {
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>        <span style="color:#088;font-weight:bold">final</span> Value&lt; <span style="color:#0a8;font-weight:bold">String</span> &gt; value = <span style="color:#080;font-weight:bold">new</span> Value&lt;&gt;();
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>        <span style="color:#777">//value.setV(Value.&lt;String&gt;defV()); //以前的写法</span>
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>        <span style="color:#777">//Value.defV()返回类型被推测为String</span>
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>        value.setV(Value.defV());
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>        <span style="color:#0a8;font-weight:bold">System</span>.out.println(value.getV());
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>    }
<span class="line-numbers"><a href="#n12" name="n12">12</a></span>}
<span class="line-numbers"><a href="#n13" name="n13">13</a></span>
<span class="line-numbers"><a href="#n14" name="n14">14</a></span><span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">Value</span>&lt; T &gt; {
<span class="line-numbers"><a href="#n15" name="n15">15</a></span>
<span class="line-numbers"><a href="#n16" name="n16">16</a></span>    <span style="color:#088;font-weight:bold">private</span> T o;
<span class="line-numbers"><a href="#n17" name="n17">17</a></span>
<span class="line-numbers"><a href="#n18" name="n18">18</a></span>    <span style="color:#088;font-weight:bold">public</span> <span style="color:#088;font-weight:bold">static</span> &lt;T&gt;  T defV() {
<span class="line-numbers"><a href="#n19" name="n19">19</a></span>        <span style="color:#777">//若T不为Object,将会出现类型转换异常</span>
<span class="line-numbers"><strong><a href="#n20" name="n20">20</a></strong></span>        <span style="color:#080;font-weight:bold">return</span> (T)<span style="color:#080;font-weight:bold">new</span> <span style="color:#0a8;font-weight:bold">Object</span>();
<span class="line-numbers"><a href="#n21" name="n21">21</a></span>    }
<span class="line-numbers"><a href="#n22" name="n22">22</a></span>
<span class="line-numbers"><a href="#n23" name="n23">23</a></span>    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> setV(T o){
<span class="line-numbers"><a href="#n24" name="n24">24</a></span>        <span style="color:#950">this</span>.o = o;
<span class="line-numbers"><a href="#n25" name="n25">25</a></span>    }
<span class="line-numbers"><a href="#n26" name="n26">26</a></span>
<span class="line-numbers"><a href="#n27" name="n27">27</a></span>    <span style="color:#088;font-weight:bold">public</span> T getV(){
<span class="line-numbers"><a href="#n28" name="n28">28</a></span>        <span style="color:#080;font-weight:bold">return</span> o;
<span class="line-numbers"><a href="#n29" name="n29">29</a></span>    }
<span class="line-numbers"><strong><a href="#n30" name="n30">30</a></strong></span>}
</pre></div>
</div>
</div>

<h2 id="section-6"><code>1.8</code> 扩展注解</h2>

<p>java8几乎可以为任何东西添加注解：局部变量、泛型类、父类与接口的实现以及方法异常</p>

<p><code>ElementType.TYPE_USE</code>和<code>ElementType.TYPE_PARAMETER</code> 用于描述注解上下文</p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span><span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">AnnotationEX</span> {
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>    
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>    <span style="color:#007">@Retention</span>( <span style="color:#0a8;font-weight:bold">RetentionPolicy</span>.RUNTIME )
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>    <span style="color:#007">@Target</span>( { <span style="color:#0a8;font-weight:bold">ElementType</span>.TYPE_USE, <span style="color:#0a8;font-weight:bold">ElementType</span>.TYPE_PARAMETER } )
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>    <span style="color:#088;font-weight:bold">public</span> <span style="color:#007">@interface</span> Anno {
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>    }
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>    <span style="color:#088;font-weight:bold">public</span> <span style="color:#088;font-weight:bold">static</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">TestAEX</span>&lt; <span style="color:#007">@Anno</span> T &gt; <span style="color:#088;font-weight:bold">extends</span> <span style="color:#007">@Anno</span> <span style="color:#0a8;font-weight:bold">Object</span> {
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>        <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> method() <span style="color:#088;font-weight:bold">throws</span> <span style="color:#007">@Anno</span> <span style="color:#C00;font-weight:bold">Exception</span> {
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>        }
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>
<span class="line-numbers"><a href="#n12" name="n12">12</a></span>    }
<span class="line-numbers"><a href="#n13" name="n13">13</a></span>
<span class="line-numbers"><a href="#n14" name="n14">14</a></span>    <span style="color:#088;font-weight:bold">public</span> <span style="color:#088;font-weight:bold">static</span> <span style="color:#339;font-weight:bold">void</span> main(<span style="color:#0a8;font-weight:bold">String</span><span style="color:#339;font-weight:bold">[]</span> args) {
<span class="line-numbers"><a href="#n15" name="n15">15</a></span>        <span style="color:#088;font-weight:bold">final</span> TestAEX&lt; <span style="color:#0a8;font-weight:bold">String</span> &gt; holder = <span style="color:#080;font-weight:bold">new</span> <span style="color:#007">@Anno</span> TestAEX&lt;&gt;();
<span class="line-numbers"><a href="#n16" name="n16">16</a></span>        <span style="color:#007">@Anno</span> <span style="color:#0a8;font-weight:bold">Collection</span>&lt; <span style="color:#007">@Anno</span> <span style="color:#0a8;font-weight:bold">String</span> &gt; strings = <span style="color:#080;font-weight:bold">new</span> <span style="color:#0a8;font-weight:bold">ArrayList</span>&lt;&gt;();
<span class="line-numbers"><a href="#n17" name="n17">17</a></span>    }
<span class="line-numbers"><a href="#n18" name="n18">18</a></span>}
</pre></div>
</div>
</div>

<h1 id="section-7"><code>2</code> 类库新特性</h1>

<h2 id="optional"><code>2.1</code> Optional</h2>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span><span style="color:#777">//将String对象装入Optional容器</span>
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>Optional&lt; <span style="color:#0a8;font-weight:bold">String</span> &gt; stringOptional = Optional.ofNullable( <span style="color:#069">null</span> );
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span><span style="color:#777">//判断容器中的String对象是否不为空</span>
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span><span style="color:#0a8;font-weight:bold">System</span>.out.println(stringOptional.isPresent() );
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span><span style="color:#777">//orElseGet通过lambda产生一个默认值</span>
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span><span style="color:#0a8;font-weight:bold">System</span>.out.println(stringOptional.orElseGet( () -&gt; <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">[default string]</span><span style="color:#710">&quot;</span></span> ) );
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span><span style="color:#777">//map对String对象进行转化，然后返回一个新的Optional实例，</span>
<span class="line-numbers"><a href="#n11" name="n11">11</a></span><span style="color:#777">// 此处s为null，所以未转换直接返回了1个新Optional实例，</span>
<span class="line-numbers"><a href="#n12" name="n12">12</a></span><span style="color:#777">// orElse直接产生一个默认值</span>
<span class="line-numbers"><a href="#n13" name="n13">13</a></span><span style="color:#0a8;font-weight:bold">System</span>.out.println(stringOptional.map( p -&gt; <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">[</span><span style="color:#710">&quot;</span></span> + p + <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">]</span><span style="color:#710">&quot;</span></span> ).orElse( <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Hello Optional</span><span style="color:#710">&quot;</span></span> ) );
</pre></div>
</div>
</div>

<h2 id="stream"><code>2.2</code> Stream</h2>

<p>stream操作被分成了<strong>中间操作</strong>与<strong>最终操作</strong>两种</p>

<p><strong>中间操作</strong>返回一个新的stream对象。中间操作总是采用惰性求值方式，运行一个像filter这样的中间操作实际上没有进行任何过滤，相反它在遍历元素时会产生了一个新的stream对象，这个新的stream对象包含原始stream中符合给定谓词的所有元素。</p>

<p><strong>最终操作</strong>可能直接遍历stream，产生一个结果或副作用，如forEach、sum等。当最终操作执行结束之后，stream管道被认为已经被消耗了，没有可能再被使用了。在大多数情况下，最终操作都是采用及早求值方式，及早完成底层数据源的遍历。</p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span><span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">enum</span> Status {
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>    OPEN, CLOSED
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>};
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span><span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">Task</span> {
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>    <span style="color:#088;font-weight:bold">private</span> <span style="color:#088;font-weight:bold">final</span> Status status;
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>    <span style="color:#088;font-weight:bold">private</span> <span style="color:#088;font-weight:bold">final</span> <span style="color:#0a8;font-weight:bold">Integer</span> points;
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>    Task( <span style="color:#088;font-weight:bold">final</span> Status status, <span style="color:#088;font-weight:bold">final</span> <span style="color:#0a8;font-weight:bold">Integer</span> points ) {
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>        <span style="color:#950">this</span>.status = status;
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>        <span style="color:#950">this</span>.points = points;
<span class="line-numbers"><a href="#n12" name="n12">12</a></span>    }
<span class="line-numbers"><a href="#n13" name="n13">13</a></span>
<span class="line-numbers"><a href="#n14" name="n14">14</a></span>    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">Integer</span> getPoints() {
<span class="line-numbers"><a href="#n15" name="n15">15</a></span>        <span style="color:#080;font-weight:bold">return</span> points;
<span class="line-numbers"><a href="#n16" name="n16">16</a></span>    }
<span class="line-numbers"><a href="#n17" name="n17">17</a></span>
<span class="line-numbers"><a href="#n18" name="n18">18</a></span>    <span style="color:#088;font-weight:bold">public</span> Status getStatus() {
<span class="line-numbers"><a href="#n19" name="n19">19</a></span>        <span style="color:#080;font-weight:bold">return</span> status;
<span class="line-numbers"><strong><a href="#n20" name="n20">20</a></strong></span>    }
<span class="line-numbers"><a href="#n21" name="n21">21</a></span>
<span class="line-numbers"><a href="#n22" name="n22">22</a></span>    <span style="color:#007">@Override</span>
<span class="line-numbers"><a href="#n23" name="n23">23</a></span>    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> toString() {
<span class="line-numbers"><a href="#n24" name="n24">24</a></span>        <span style="color:#080;font-weight:bold">return</span> <span style="color:#0a8;font-weight:bold">String</span>.format( <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">[%s, %d]</span><span style="color:#710">&quot;</span></span>, status, points );
<span class="line-numbers"><a href="#n25" name="n25">25</a></span>    }
<span class="line-numbers"><a href="#n26" name="n26">26</a></span>}
<span class="line-numbers"><a href="#n27" name="n27">27</a></span>
</pre></div>
</div>
</div>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span><span style="color:#088;font-weight:bold">public</span> <span style="color:#088;font-weight:bold">static</span> <span style="color:#339;font-weight:bold">void</span> main(<span style="color:#0a8;font-weight:bold">String</span><span style="color:#339;font-weight:bold">[]</span> args){
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>    <span style="color:#0a8;font-weight:bold">Collection</span>&lt; Task &gt; tasks = <span style="color:#0a8;font-weight:bold">Arrays</span>.asList(
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>            <span style="color:#080;font-weight:bold">new</span> Task( Status.OPEN, <span style="color:#00D">5</span> ),
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>            <span style="color:#080;font-weight:bold">new</span> Task( Status.OPEN, <span style="color:#00D">13</span> ),
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>            <span style="color:#080;font-weight:bold">new</span> Task( Status.CLOSED, <span style="color:#00D">8</span> )
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>    );
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>    <span style="color:#339;font-weight:bold">long</span> totalPointsOfOpenTasks = tasks
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>            .stream()
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>            .filter( task -&gt; task.getStatus() == Status.OPEN )
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>            .mapToInt( Task::getPoints )
<span class="line-numbers"><a href="#n12" name="n12">12</a></span>            .sum();
<span class="line-numbers"><a href="#n13" name="n13">13</a></span>
<span class="line-numbers"><a href="#n14" name="n14">14</a></span>    <span style="color:#0a8;font-weight:bold">System</span>.out.println( <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Total points: </span><span style="color:#710">&quot;</span></span> + totalPointsOfOpenTasks );
<span class="line-numbers"><a href="#n15" name="n15">15</a></span>}
</pre></div>
</div>
</div>

<p>原生并行处理</p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#339;font-weight:bold">double</span> totalPoints = tasks
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>   .stream()
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>   .parallel()
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>   .map( task -&gt; task.getPoints() ) <span style="color:#777">// or map( Task::getPoints ) </span>
<span class="line-numbers"><a href="#n5" name="n5">5</a></span>   .reduce( <span style="color:#00D">0</span>, <span style="color:#0a8;font-weight:bold">Integer</span>::sum );    
<span class="line-numbers"><a href="#n6" name="n6">6</a></span>   
<span class="line-numbers"><a href="#n7" name="n7">7</a></span><span style="color:#0a8;font-weight:bold">System</span>.out.println( <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Total points (all tasks): </span><span style="color:#710">&quot;</span></span> + totalPoints );
</pre></div>
</div>
</div>

<p>分组</p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#088;font-weight:bold">final</span> <span style="color:#0a8;font-weight:bold">Map</span>&lt; Status, <span style="color:#0a8;font-weight:bold">List</span>&lt; Task &gt;&gt; map = tasks
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>        .stream()
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>        .collect( Collectors.groupingBy(Task::getStatus) );
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>
<span class="line-numbers"><a href="#n5" name="n5">5</a></span><span style="color:#0a8;font-weight:bold">System</span>.out.println( map );
</pre></div>
</div>
</div>

<p>权重</p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span><span style="color:#777">//计算权重</span>
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span><span style="color:#088;font-weight:bold">final</span> <span style="color:#0a8;font-weight:bold">Collection</span>&lt; <span style="color:#0a8;font-weight:bold">String</span> &gt; result = tasks
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>        .stream()                                        <span style="color:#777">// Stream&lt; String &gt;</span>
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>        .mapToInt( Task::getPoints )                     <span style="color:#777">// IntStream</span>
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>        .asLongStream()                                  <span style="color:#777">// LongStream</span>
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>        .mapToDouble( points -&gt; points / totalPoints )   <span style="color:#777">// DoubleStream</span>
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>        .boxed()                                         <span style="color:#777">// Stream&lt; Double &gt;</span>
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>        .mapToLong( weigth -&gt; ( <span style="color:#339;font-weight:bold">long</span> )( weigth * <span style="color:#00D">100</span> ) ) <span style="color:#777">// LongStream</span>
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>        .mapToObj( percentage -&gt; percentage + <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">%</span><span style="color:#710">&quot;</span></span> )      <span style="color:#777">// Stream&lt; String&gt;</span>
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>        .collect( Collectors.toList() );                 <span style="color:#777">// List&lt; String &gt;</span>
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>
<span class="line-numbers"><a href="#n12" name="n12">12</a></span><span style="color:#0a8;font-weight:bold">System</span>.out.println( result );
</pre></div>
</div>
</div>

<h2 id="datetime-api"><code>2.3</code> Date/Time API</h2>

<p>时间格式均为 <strong>ISO-8601</strong></p>

<p><code>Clock</code></p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#777">//日期时间都有，有时区</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>Clock clock = Clock.systemUTC();
<span class="line-numbers"><a href="#n3" name="n3">3</a></span><span style="color:#0a8;font-weight:bold">System</span>.out.println(clock.instant());
<span class="line-numbers"><a href="#n4" name="n4">4</a></span><span style="color:#0a8;font-weight:bold">System</span>.out.println(clock.millis());
</pre></div>
</div>
</div>

<p><code>LocalDate</code></p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#777">//只有日期没有时间</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>LocalDate localDate = LocalDate.now();
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>LocalDate localDateFromClock = LocalDate.now(clock);
<span class="line-numbers"><a href="#n4" name="n4">4</a></span><span style="color:#0a8;font-weight:bold">System</span>.out.println(localDate);
<span class="line-numbers"><a href="#n5" name="n5">5</a></span><span style="color:#0a8;font-weight:bold">System</span>.out.println(localDateFromClock);
</pre></div>
</div>
</div>

<p><code>LocalTime</code></p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#777">//只有时间没有日期</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>LocalTime localTime = LocalTime.now();
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>LocalTime localTimeFromClock = LocalTime.now(clock);
<span class="line-numbers"><a href="#n4" name="n4">4</a></span><span style="color:#0a8;font-weight:bold">System</span>.out.println(localTime);
<span class="line-numbers"><a href="#n5" name="n5">5</a></span><span style="color:#0a8;font-weight:bold">System</span>.out.println(localTimeFromClock);
</pre></div>
</div>
</div>

<p><code>LocalDateTime </code></p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#777">//日期时间都有，没有时区</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>LocalDateTime localDateTime = LocalDateTime.now();
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>LocalDateTime localDateTimeFromClock = LocalDateTime.now(clock);
<span class="line-numbers"><a href="#n4" name="n4">4</a></span><span style="color:#0a8;font-weight:bold">System</span>.out.println(localDateTime);
<span class="line-numbers"><a href="#n5" name="n5">5</a></span><span style="color:#0a8;font-weight:bold">System</span>.out.println(localDateTimeFromClock);
</pre></div>
</div>
</div>

<p><code>ZonedDateTime</code></p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#777">//指定时区，只有ZonedDateTime，没有ZoneDate与ZoneTime</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>ZonedDateTime zonedDateTime = ZonedDateTime.now();
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>ZonedDateTime zonedDateTimeFromClock = ZonedDateTime.now();
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>ZonedDateTime zonedDateTimeFromZone = ZonedDateTime.now(ZoneId.of( <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">America/Los_Angeles</span><span style="color:#710">&quot;</span></span> ));
<span class="line-numbers"><a href="#n5" name="n5">5</a></span><span style="color:#0a8;font-weight:bold">System</span>.out.println(zonedDateTime);
<span class="line-numbers"><a href="#n6" name="n6">6</a></span><span style="color:#0a8;font-weight:bold">System</span>.out.println(zonedDateTimeFromClock);
<span class="line-numbers"><a href="#n7" name="n7">7</a></span><span style="color:#0a8;font-weight:bold">System</span>.out.println(zonedDateTimeFromZone);
</pre></div>
</div>
</div>

<p><code>Duration</code></p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#777">//计算时间差</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>LocalDateTime from = LocalDateTime.of( <span style="color:#00D">2014</span>, Month.APRIL, <span style="color:#00D">16</span>, <span style="color:#00D">0</span>, <span style="color:#00D">0</span>, <span style="color:#00D">0</span> );
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>LocalDateTime to = LocalDateTime.of( <span style="color:#00D">2015</span>, Month.APRIL, <span style="color:#00D">16</span>, <span style="color:#00D">23</span>, <span style="color:#00D">59</span>, <span style="color:#00D">59</span> );
<span class="line-numbers"><a href="#n4" name="n4">4</a></span><span style="color:#0a8;font-weight:bold">Duration</span> duration = <span style="color:#0a8;font-weight:bold">Duration</span>.between( from, to );
<span class="line-numbers"><a href="#n5" name="n5">5</a></span><span style="color:#0a8;font-weight:bold">System</span>.out.println( <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Duration in days: </span><span style="color:#710">&quot;</span></span> + duration.toDays() );
<span class="line-numbers"><a href="#n6" name="n6">6</a></span><span style="color:#0a8;font-weight:bold">System</span>.out.println( <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Duration in hours: </span><span style="color:#710">&quot;</span></span> + duration.toHours() );
</pre></div>
</div>
</div>

<h2 id="nashorn"><code>2.4</code> Nashorn</h2>

<p><code>javax.script.ScriptEngine</code>的另一种实现，允许js与java相互调用</p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>ScriptEngineManager manager = <span style="color:#080;font-weight:bold">new</span> ScriptEngineManager();
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>ScriptEngine engine = manager.getEngineByName( <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">JavaScript</span><span style="color:#710">&quot;</span></span> );
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>         
<span class="line-numbers"><a href="#n4" name="n4">4</a></span><span style="color:#0a8;font-weight:bold">System</span>.out.println( engine.getClass().getName() );
<span class="line-numbers"><a href="#n5" name="n5">5</a></span><span style="color:#0a8;font-weight:bold">System</span>.out.println( <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Result:</span><span style="color:#710">&quot;</span></span> + engine.eval( <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">function f() { return 1; }; f() + 1;</span><span style="color:#710">&quot;</span></span> ) );
</pre></div>
</div>
</div>

<h2 id="base64"><code>2.5</code> Base64</h2>

<p>Base64编码已经成为Java8类库的标准</p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span><span style="color:#088;font-weight:bold">final</span> <span style="color:#0a8;font-weight:bold">String</span> text = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Base64 finally in Java 8!</span><span style="color:#710">&quot;</span></span>;
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span><span style="color:#088;font-weight:bold">final</span> <span style="color:#0a8;font-weight:bold">String</span> encoded = Base64
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>        .getEncoder()
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>        .encodeToString( text.getBytes(StandardCharsets.UTF_8 ) );
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span><span style="color:#0a8;font-weight:bold">System</span>.out.println( encoded );
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span><span style="color:#088;font-weight:bold">final</span> <span style="color:#0a8;font-weight:bold">String</span> decoded = <span style="color:#080;font-weight:bold">new</span> <span style="color:#0a8;font-weight:bold">String</span>(
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>        Base64.getDecoder().decode( encoded ),
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>        StandardCharsets.UTF_8 );
<span class="line-numbers"><a href="#n11" name="n11">11</a></span><span style="color:#0a8;font-weight:bold">System</span>.out.println( decoded );
</pre></div>
</div>
</div>

<blockquote>
  <p>其他编码器与解码器</p>

  <p><code>Base64.getUrlEncoder() Base64.getUrlDecoder()</code></p>

  <p><code>Base64.getMimeEncoder() Base64.getMimeDecoder()</code></p>
</blockquote>

<h2 id="parallel-"><code>2.6</code> 并行（parallel ）数组</h2>

<p><strong>并行数组</strong>操作可以在多核机器上极大提高性能</p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span><span style="color:#339;font-weight:bold">long</span><span style="color:#339;font-weight:bold">[]</span> arrayOfLong = <span style="color:#080;font-weight:bold">new</span> <span style="color:#339;font-weight:bold">long</span> [ <span style="color:#00D">20000</span> ];
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span><span style="color:#777">//对arrayLong所有元素随机赋值</span>
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span><span style="color:#0a8;font-weight:bold">Arrays</span>.parallelSetAll(arrayOfLong,
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>        index -&gt; ThreadLocalRandom.current().nextInt(<span style="color:#00D">1000000</span>));
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span><span style="color:#777">//打印前10个元素</span>
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span><span style="color:#0a8;font-weight:bold">Arrays</span>.stream( arrayOfLong ).limit( <span style="color:#00D">10</span> ).forEach(
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>        i -&gt; <span style="color:#0a8;font-weight:bold">System</span>.out.print( i + <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20"> </span><span style="color:#710">&quot;</span></span> ) );
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span><span style="color:#0a8;font-weight:bold">System</span>.out.println();
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>
<span class="line-numbers"><a href="#n12" name="n12">12</a></span><span style="color:#777">//对arrayLong数组排序</span>
<span class="line-numbers"><a href="#n13" name="n13">13</a></span><span style="color:#0a8;font-weight:bold">Arrays</span>.parallelSort( arrayOfLong );
<span class="line-numbers"><a href="#n14" name="n14">14</a></span>
<span class="line-numbers"><a href="#n15" name="n15">15</a></span><span style="color:#777">//打印前10个元素</span>
<span class="line-numbers"><a href="#n16" name="n16">16</a></span><span style="color:#0a8;font-weight:bold">Arrays</span>.stream( arrayOfLong ).limit( <span style="color:#00D">10</span> ).forEach(
<span class="line-numbers"><a href="#n17" name="n17">17</a></span>        i -&gt; <span style="color:#0a8;font-weight:bold">System</span>.out.print( i + <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20"> </span><span style="color:#710">&quot;</span></span> ) );
<span class="line-numbers"><a href="#n18" name="n18">18</a></span><span style="color:#0a8;font-weight:bold">System</span>.out.println();
</pre></div>
</div>
</div>

<h2 id="concurrency"><code>2.7</code> 并发（concurrency）</h2>

<ul>
  <li>
    <p>java.util.concurrent.<code>ConcurrentHashMap</code>类中加入了一些新方法来支持聚集操作</p>
  </li>
  <li>
    <p>java.util.concurrent.<code>ForkJoinPool</code>类中加入了一些新方法来支持共有资源池（common pool）</p>
  </li>
  <li>
    <p>java.util.concurrent.locks.<code>StampedLock</code>类提供基于容量的锁，这种锁有三个模型来控制读写操作</p>
  </li>
  <li>
    <p>java.util.concurrent.atomic包中增加新类：<br /><br />
<code>DoubleAccumulator</code>，<br /><br />
<code>DoubleAdder</code>，<br /><br />
<code>LongAccumulator</code>，<br /><br />
<code>LongAdder</code></p>
  </li>
</ul>

<h1 id="section-8"><code>3</code> 编译器新特性</h1>

<h2 id="section-9"><code>3.1</code> 参数名</h2>

<p>方法参数的名字保留在Java字节码中，并且能够在运行时获取它们</p>

<p>编译时需要加上 <code>–parameters</code> ，<strong>maven-compiler-plugin</strong> 可进行配置</p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">ParameterNames</span> {
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>    <span style="color:#088;font-weight:bold">public</span> <span style="color:#088;font-weight:bold">static</span> <span style="color:#339;font-weight:bold">void</span> main(<span style="color:#0a8;font-weight:bold">String</span><span style="color:#339;font-weight:bold">[]</span> args) <span style="color:#088;font-weight:bold">throws</span> <span style="color:#C00;font-weight:bold">Exception</span> {
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>        <span style="color:#0a8;font-weight:bold">Method</span> method = ParameterNames.class.getMethod( <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">main</span><span style="color:#710">&quot;</span></span>, <span style="color:#0a8;font-weight:bold">String</span><span style="color:#339;font-weight:bold">[]</span>.class );
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>        <span style="color:#080;font-weight:bold">for</span>( <span style="color:#088;font-weight:bold">final</span> Parameter parameter: method.getParameters() ) {
<span class="line-numbers"><a href="#n5" name="n5">5</a></span>            <span style="color:#0a8;font-weight:bold">System</span>.out.println( <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Parameter: </span><span style="color:#710">&quot;</span></span> + parameter.getName() );
<span class="line-numbers"><a href="#n6" name="n6">6</a></span>        }
<span class="line-numbers"><a href="#n7" name="n7">7</a></span>    }
<span class="line-numbers"><a href="#n8" name="n8">8</a></span>}
</pre></div>
</div>
</div>

<h1 id="java"><code>4</code> 新的Java工具</h1>

<h2 id="nashorn-jjs"><code>4.1</code> Nashorn引擎 <code>jjs</code></h2>

<p>它接受一些JavaScript源代码为参数，并且执行这些源代码</p>

<p>创建 <strong>func.js</strong> 文件</p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#080;font-weight:bold">function</span> <span style="color:#06B;font-weight:bold">f</span>() { 
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>     <span style="color:#080;font-weight:bold">return</span> <span style="color:#00D">1</span>; 
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>}; 
<span class="line-numbers"><a href="#n4" name="n4">4</a></span> 
<span class="line-numbers"><a href="#n5" name="n5">5</a></span>print( f() + <span style="color:#00D">1</span> );
</pre></div>
</div>
</div>
<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>jjs func.js
</pre></div>
</div>
</div>

<h2 id="jdeps"><code>4.2</code> 类依赖分析器 <code>jdeps</code></h2>

<p>它可以显示Java类的包级别或类级别的依赖，它接受一个.class文件，一个目录，或者一个jar文件作为输入。jdeps默认把结果输出到系统输出（控制台）上。</p>

<div><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>jdeps org.springframework.core-3.0.5.RELEASE.jar
</pre></div>
</div>
</div>

<p>如果依赖不在classpath中，就会显示 <strong>not found</strong></p>

<h1 id="jvm"><code>5</code> JVM新特性</h1>

<p><strong>PermGen</strong>空间被移除了，取而代之的是<strong>Metaspace</strong>（JEP 122）。JVM选项<strong>-XX:PermSize</strong>与<strong>-XX:MaxPermSize</strong>分别被<strong>-XX:MetaSpaceSize</strong>与<strong>-XX:MaxMetaspaceSize</strong>所代替</p>

          </article>
          <hr class="boundary">
          <div id="post-share" class="bdsharebuttonbox">
              <a href="#" class="bds_more" data-cmd="more"></a>
              <a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
              <a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a>
              <a href="#" class="bds_douban" data-cmd="douban" title="分享到豆瓣网"></a>
              <a href="#" class="bds_fbook" data-cmd="fbook" title="分享到Facebook"></a>
              <a href="#" class="bds_copy" data-cmd="copy" title="分享到复制网址"></a>
          </div>
        </div>
        <div class="pad-min"></div>
        <div id="post-comment" class="sheet post hidden">
            <div id="disqus_thread"></div>
        </div>
    </div>
    <div class="content-navigation col-lg-3">
      <div class="shadow-bottom-center" >
        <div class="content-navigation-toc">
            <div class="content-navigation-header">
                <span class="octicon octicon-list-unordered"></span>&nbsp;Toc
            </div>
            <div class="content-navigation-list toc"></div>
        </div>
        <div class="content-navigation-tag">
            <div class="content-navigation-header">
                <span class="octicon octicon-list-unordered"></span>&nbsp;Tags
            </div>
            <div class="content-navigation-list">
                <ul>
                    
                    <li>
                        <a href="https://haonan-dong.github.io/tags#Java"><span class="octicon octicon-tag"></span>&nbsp;Java</a>
                    </li>
                    
                    <li>
                        <a href="https://haonan-dong.github.io/tags#新特性"><span class="octicon octicon-tag"></span>&nbsp;新特性</a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <div class="content-navigation-related">
            <div class="content-navigation-header">
                <span class="octicon octicon-list-unordered"></span>&nbsp;Related
            </div>
            <div class="content-navigation-list">
                <ul>
                    

                    
                        
                            

                            
                                
                            
                                
                            
                                
                            
                                
                            
                                
                            

                            
                                
                            

                            
                        
                    
                        
                            

                            
                                
                            
                                
                            
                                
                            
                                
                            

                            
                                
                            

                            
                        
                    
                        
                            

                            
                                
                            
                                
                            

                            
                                
                                    
                                
                            

                            
                                
                            
                        
                    
                        
                            

                            
                                
                            
                                
                            
                                
                            

                            
                                
                                    
                                
                            

                            
                                
                            
                        
                    
                        
                            

                            
                                
                            
                                
                            
                                
                            

                            
                                
                            

                            
                        
                    
                        
                            

                            
                                
                            
                                
                            

                            
                                
                            

                            
                        
                    
                        
                            

                            
                                
                            
                                
                            
                                
                            
                                
                            
                                
                            

                            
                                
                            

                            
                        
                    
                        
                            

                            
                                
                            
                                
                                    
                                
                            

                            
                                
                                    
                                
                            

                            
                                
                            
                        
                    
                        
                            

                            
                                
                            
                                
                            
                                
                                    
                                
                            

                            
                                
                            

                            
                                
                            
                        
                    
                        
                            

                            
                                
                            
                                
                            
                                
                                    
                                
                            

                            
                                
                            

                            
                                
                            
                        
                    
                        
                            

                            
                                
                            
                                
                            
                                
                                    
                                
                            

                            
                                
                                    
                                
                            

                            
                                
                            
                        
                    
                        
                            

                            
                                
                            
                                
                                    
                                
                            
                                
                            

                            
                                
                                    
                                
                            

                            
                                
                            
                        
                    
                        
                            

                            
                                
                            
                                
                            
                                
                                    
                                
                            

                            
                                
                            

                            
                                
                            
                        
                    
                        
                            

                            
                                
                            
                                
                            

                            
                                
                            

                            
                        
                    
                        
                            

                            
                                
                            
                                
                                    
                                
                            

                            
                                
                            

                            
                                
                            
                        
                    
                        
                    
                        
                            

                            
                                
                                    
                                
                            
                                
                            

                            
                                
                                    
                                
                            

                            
                                
                            
                        
                    
                        
                            

                            
                                
                            
                                
                            
                                
                            
                                
                            

                            
                                
                            

                            
                        
                    
                        
                            

                            
                                
                            
                                
                            
                                
                            

                            
                                
                            

                            
                        
                    
                        
                            

                            
                                
                            
                                
                            
                                
                            

                            
                                
                            

                            
                        
                    
                        
                            

                            
                                
                            
                                
                                    
                                
                            

                            
                                
                                    
                                
                            

                            
                                
                            
                        
                    
                        
                            

                            
                                
                            
                                
                                    
                                
                            

                            
                                
                                    
                                
                            

                            
                                
                            
                        
                    
                        
                            

                            
                                
                            
                                
                            
                                
                            

                            
                                
                            

                            
                        
                    
                        
                            

                            
                                
                            
                                
                            

                            
                                
                            

                            
                        
                    
                        
                            

                            
                                
                            
                                
                            
                                
                            

                            
                                
                            

                            
                        
                    
                        
                            

                            
                                
                            
                                
                                    
                                
                            
                                
                            

                            
                                
                            

                            
                                
                            
                        
                    
                        
                            

                            
                                
                            
                                
                            
                                
                            
                                
                            
                                
                            
                                
                            

                            
                                
                            

                            
                        
                    
                        
                            

                            
                                
                                    
                                
                            
                                
                            
                                
                            

                            
                                
                                    
                                
                            

                            
                                
                            
                        
                    
                        
                            

                            
                                
                            

                            
                                
                            

                            
                        
                    
                        
                            

                            
                                
                            
                                
                            

                            
                                
                            

                            
                        
                    
                        
                            

                            
                                
                            
                                
                            

                            
                                
                            

                            
                        
                    
                        
                            

                            
                                
                            
                                
                            

                            
                                
                            

                            
                        
                    
                        
                            

                            
                                
                            
                                
                            

                            
                                
                            

                            
                        
                    
                        
                            

                            
                                
                            
                                
                            

                            
                                
                            

                            
                        
                    
                        
                            

                            
                                
                            

                            
                                
                            

                            
                        
                    
                        
                            

                            
                                
                            
                                
                            

                            
                                
                            

                            
                        
                    
                        
                            

                            
                                
                            
                                
                            

                            
                                
                            

                            
                        
                    
                        
                            

                            
                                
                                    
                                
                            
                                
                            

                            
                                
                                    
                                
                            

                            
                                
                            
                        
                    
                        
                            

                            
                                
                                    
                                
                            
                                
                            

                            
                                
                                    
                                
                            

                            
                                
                            
                        
                    
                        
                            

                            
                                
                            
                                
                            

                            
                                
                            

                            
                        
                    

                    
                        
                            <li>
                                <a href="https://haonan-dong.github.io/java/FullGc/">大对象引起的频繁FULL GC</a>
                            </li>
                        
                            <li>
                                <a href="https://haonan-dong.github.io/java/mvc-validator/">记一次在spring-mvc中踩坑的经历</a>
                            </li>
                        
                            <li>
                                <a href="https://haonan-dong.github.io/java/rmi/">RMI</a>
                            </li>
                        
                            <li>
                                <a href="https://haonan-dong.github.io/web/servlet-encode/">Servlet乱码分析</a>
                            </li>
                        
                            <li>
                                <a href="https://haonan-dong.github.io/web/spring-security/">spring security 探秘</a>
                            </li>
                        
                            <li>
                                <a href="https://haonan-dong.github.io/java/validator/">Bean Validation</a>
                            </li>
                        
                            <li>
                                <a href="https://haonan-dong.github.io/java/javajs/">Java中用js解析json</a>
                            </li>
                        
                            <li>
                                <a href="https://haonan-dong.github.io/database/sqlappend/">SQL 拼接</a>
                            </li>
                        
                            <li>
                                <a href="https://haonan-dong.github.io/web/webservice/">WebService</a>
                            </li>
                        
                            <li>
                                <a href="https://haonan-dong.github.io/java/java-concurrent/">Java Concurrent</a>
                            </li>
                        
                            <li>
                                <a href="https://haonan-dong.github.io/java/jvm/">Java虚拟机</a>
                            </li>
                        
                            <li>
                                <a href="https://haonan-dong.github.io/java/effective/">Effective Java</a>
                            </li>
                        
                            <li>
                                <a href="https://haonan-dong.github.io/web/fileupload/">Custom Fileupload</a>
                            </li>
                        
                            <li>
                                <a href="https://haonan-dong.github.io/java/reentrantlock/">可重入锁</a>
                            </li>
                        
                            <li>
                                <a href="https://haonan-dong.github.io/java/java-nio/">Java NIO</a>
                            </li>
                        
                    
                </ul>
            </div>
        </div>
      </div>
    </div>
</div>
    </div>
    <div class="page-scrollTop" data-toggle="tooltip" data-placement="top" title="Top">
        <a href="javascript:void(0);">
            <div class="arrow"></div>
            <div class="stick"></div>
        </a>
    </div>
</div>

    <footer  class="footnote footnote-tiffany">
        <div class="container">
                <a class="foot-item" href="mailto:august_dong@163.com  haonandong.cn@gmail.com" target="_blank"><span class="octicon octicon-mail"></span></a>
                <a class="foot-item" href="https://github.com/Haonan DONG" target="_blank"><span class="octicon octicon-mark-github"></span></a>
                <a class="foot-item" href="https://haonan-dong.github.io/feed.xml" target="_blank"><span class="octicon octicon-rss"></span></a>
                <a class="foot-item" href="https://haonan-dong.github.io/link/"><span class="octicon octicon-link-external"></span></a>
                &nbsp;
                <a href="https://github.com/bit-ranger"><span class="word-keep">&copy; bit-ranger</span></a>
        </div>
    </footer>
    <script type="text/javascript" src="https://cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://haonan-dong.github.io/static/js/script.js"></script>
    <script type="text/javascript" src="https://haonan-dong.github.io/static/js/gitment.js"></script>
    <script type="text/javascript" src="https://haonan-dong.github.io/static/js/post.js"></script>
    


</body>
</html>
